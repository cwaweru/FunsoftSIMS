/*
 * Members.java
 *
 * Created on August 13, 2002, 3:36 PM
 */

package com.afrisoftech.sacco;

/**
 *
 * @author  root
 */
public class MemberVerifyintfr extends javax.swing.JInternalFrame {
    
    /** Creates new form Members */
    java.io.File filePortrait = null;
    
    java.io.File fileSignature = null;
    
    java.io.File fileThumb = null;
    
    javax.swing.JSpinner beginDateSpinner = null;
    
    javax.swing.JSpinner endDateSpinner = null;
   
    javax.swing.JSpinner beginDateSpinner1 = null;
    
    javax.swing.JSpinner endDateSpinner1 = null;
   
    javax.swing.JSpinner beginDateSpinner2 = null;
    
    //  javax.swing.JSpinner endDateSpinner = null;
  
       java.sql.Connection connectDB = null;
    
    org.netbeans.lib.sql.pool.PooledConnectionSource pConnDB = null;
  
    
    public MemberVerifyintfr(java.sql.Connection connDb, org.netbeans.lib.sql.pool.PooledConnectionSource pconnDB) {
        
        connectDB = connDb;
        
        pConnDB = pconnDB;
        
        initComponents();
    }   
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        java.awt.GridBagConstraints gridBagConstraints;

        try {
            crset1 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset2 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset3 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset4 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset5 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset6 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        try {
            crset31 = new org.netbeans.lib.sql.NBCachedRowSet();
        } catch (java.sql.SQLException e1) {
            e1.printStackTrace();
        }
        jPanel7 = new javax.swing.JPanel();
        jButton252 = new javax.swing.JButton();
        jButton301 = new javax.swing.JButton();
        jPanel522111 = new javax.swing.JPanel();
        jPanel51 = new javax.swing.JPanel();
        jLabel5722111 = new javax.swing.JLabel();
        jLabel153111 = new javax.swing.JLabel();
        jLabel5822111 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jPanel9 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jPanel10 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jComboBox6 = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();

        crset1.setCommand("select district from district order by district");
        crset1.setConnectionSource(pConnDB);
        crset2.setCommand("select description from m_type order by description");
        crset2.setConnectionSource(pConnDB);
        crset3.setCommand("select department from departments order by department");
        crset3.setConnectionSource(pConnDB);
        crset4.setCommand("select workstation from workstation order by workstation");
        crset4.setConnectionSource(pConnDB);
        crset5.setCommand("select s_type from staff_type order by s_type");
        crset5.setConnectionSource(pConnDB);
        crset6.setCommand("select suffix from suffix order by suffix");
        crset6.setConnectionSource(pConnDB);
        crset31.setCommand("select m_number from member order by m_number");
        crset31.setConnectionSource(pConnDB);

        getContentPane().setLayout(new java.awt.GridBagLayout());

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Members Details");
        setDefaultCloseOperation(javax.swing.WindowConstants.HIDE_ON_CLOSE);
        setFont(new java.awt.Font("SansSerif", 0, 10));
        try {
            setSelected(true);
        } catch (java.beans.PropertyVetoException e1) {
            e1.printStackTrace();
        }
        setVisible(true);
        jPanel7.setLayout(new java.awt.GridBagLayout());

        jButton252.setMnemonic('C');
        jButton252.setText("Close");
        jButton252.setToolTipText("Click here to close window");
        jButton252.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton252ActionPerformed(evt);
            }
        });

        jButton252.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton252MouseClicked(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel7.add(jButton252, gridBagConstraints);

        jButton301.setMnemonic('O');
        jButton301.setText("Reset Images");
        jButton301.setToolTipText("Click here to enter data");
        jButton301.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton301ActionPerformed(evt);
            }
        });

        jButton301.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton301MouseClicked(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel7.add(jButton301, gridBagConstraints);

        jPanel522111.setLayout(new java.awt.GridBagLayout());

        jPanel522111.setBorder(new javax.swing.border.TitledBorder(""));
        jPanel51.setLayout(new java.awt.GridBagLayout());

        jPanel51.setBorder(new javax.swing.border.TitledBorder("Members' Extended Details"));
        jLabel5722111.setText("Portrait/Photo");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel51.add(jLabel5722111, gridBagConstraints);

        jLabel153111.setText("Member Signature");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        jPanel51.add(jLabel153111, gridBagConstraints);

        jLabel5822111.setText("Thumb Print");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel51.add(jLabel5822111, gridBagConstraints);

        jPanel8.setLayout(new java.awt.GridBagLayout());

        jPanel8.setBorder(new javax.swing.border.BevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel8.setToolTipText("Click once to choose image file.");
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5.setIcon(new javax.swing.ImageIcon("/root/imgpack/2D-16.gif"));
        jLabel5.setBorder(new javax.swing.border.EtchedBorder(javax.swing.border.EtchedBorder.RAISED, java.awt.Color.gray, java.awt.Color.black));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 20, 5, 20);
        jPanel8.add(jLabel5, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 5.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel51.add(jPanel8, gridBagConstraints);

        jPanel9.setLayout(new java.awt.GridBagLayout());

        jPanel9.setBorder(new javax.swing.border.TitledBorder("Thumb Sign"));
        jPanel9.setToolTipText("Click to select image file");
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 2.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel9.add(jLabel6, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 2.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel51.add(jPanel9, gridBagConstraints);

        jPanel10.setLayout(new java.awt.GridBagLayout());

        jPanel10.setBackground(new java.awt.Color(255, 255, 255));
        jPanel10.setBorder(new javax.swing.border.TitledBorder("Signature"));
        jPanel10.setToolTipText("Click to choose image file.");
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel10.add(jLabel7, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 2.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jPanel51.add(jPanel10, gridBagConstraints);

        jLabel8.setText("Member No.");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel51.add(jLabel8, gridBagConstraints);

        jComboBox6.setModel(new org.netbeans.lib.sql.models.ComboBoxModel (crset31, "m_number", null, null, null));
        jComboBox6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox6ActionPerformed(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 70);
        jPanel51.add(jComboBox6, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.gridheight = 7;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jPanel522111.add(jPanel51, gridBagConstraints);

        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
        jPanel522111.add(jLabel9, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridwidth = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 10.0;
        jPanel7.add(jPanel522111, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        getContentPane().add(jPanel7, gridBagConstraints);

        setBounds(0, 0, 429, 450);
    }//GEN-END:initComponents

    private void jComboBox6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox6ActionPerformed

        java.lang.String mem_no = this.jComboBox6.getSelectedItem().toString();
        
        byte[] imageBytesPortrait = null;
        byte[] imageBytesSignature = null;        
        byte[] imageBytesThumb = null;        

        java.awt.Image imgPortrait = null;
        java.awt.Image imgSignature = null;
        java.awt.Image imgThumb = null;
        
        
        try {
         
         java.sql.PreparedStatement pstmt = connectDB.prepareStatement("SELECT portrait, signature, thumb_sign from member_images where member_no = '"+mem_no+"'");
//         pstmt.setObject(1, mem_no);
         java.sql.ResultSet rsetImages = pstmt.executeQuery();
         
         if (rsetImages.next()) {
             imageBytesPortrait = rsetImages.getBytes(1);
             imageBytesSignature = rsetImages.getBytes(2);
             imageBytesThumb = rsetImages.getBytes(3);
         }
        imgPortrait = java.awt.Toolkit.getDefaultToolkit().createImage(imageBytesPortrait);
        imgSignature = java.awt.Toolkit.getDefaultToolkit().createImage(imageBytesSignature);
        imgThumb = java.awt.Toolkit.getDefaultToolkit().createImage(imageBytesThumb);         
         
        this.jLabel5.setIcon(new javax.swing.ImageIcon(imgPortrait));
        this.jLabel6.setIcon(new javax.swing.ImageIcon(imgSignature));        
        this.jLabel7.setIcon(new javax.swing.ImageIcon(imgThumb));
        } catch(java.sql.SQLException sqlExec) {
            
            javax.swing.JOptionPane.showMessageDialog(this, sqlExec.getMessage());
            
        }        // Add your handling code here:
    }//GEN-LAST:event_jComboBox6ActionPerformed

    private void jButton252ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton252ActionPerformed
       setVisible(false); // Add your handling code here:
    }//GEN-LAST:event_jButton252ActionPerformed

    private void jButton301ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton301ActionPerformed
 
    // Add your handling code here:
    }//GEN-LAST:event_jButton301ActionPerformed

    private void jButton301MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButton301MouseClicked
     
     
        // Add your handling code here:
    }//GEN-LAST:event_jButton301MouseClicked

    private void jButton252MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButton252MouseClicked
    setVisible(false);        // Add your handling code here:
    }//GEN-LAST:event_jButton252MouseClicked
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel8;
    private org.netbeans.lib.sql.NBCachedRowSet crset5;
    private org.netbeans.lib.sql.NBCachedRowSet crset3;
    private javax.swing.JPanel jPanel522111;
    private org.netbeans.lib.sql.NBCachedRowSet crset2;
    private javax.swing.JButton jButton301;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JButton jButton252;
    private javax.swing.JComboBox jComboBox6;
    private org.netbeans.lib.sql.NBCachedRowSet crset4;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabel153111;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JLabel jLabel7;
    private org.netbeans.lib.sql.NBCachedRowSet crset6;
    private javax.swing.JPanel jPanel7;
    private org.netbeans.lib.sql.NBCachedRowSet crset1;
    private javax.swing.JLabel jLabel5822111;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel51;
    private org.netbeans.lib.sql.NBCachedRowSet crset31;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel5722111;
    // End of variables declaration//GEN-END:variables
    
}
